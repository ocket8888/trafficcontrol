


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Traffic Ops API &mdash; Traffic Control 3.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="api_capabilities" href="api_capabilities.html" />
    <link rel="prev" title="Documentation Guidelines" href="../development/documentation_guidelines.html" />
    <link href="../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Traffic Control
          

          
            
            <img src="../_static/ATC-SVG-FULL-WHITE.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../basics/index.html">CDN Basics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Traffic Control Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administrator’s Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Developer’s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Traffic Ops API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api-routes">API Routes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_capabilities.html"><code class="docutils literal notranslate"><span class="pre">api_capabilities</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api_capabilities_id.html"><code class="docutils literal notranslate"><span class="pre">api_capabilities/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="asns.html"><code class="docutils literal notranslate"><span class="pre">asns</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="asns_id.html"><code class="docutils literal notranslate"><span class="pre">asns/{{id}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cache_stats.html"><code class="docutils literal notranslate"><span class="pre">cache_stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroup_fallbacks.html"><code class="docutils literal notranslate"><span class="pre">cachegroup_fallbacks</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroup_parameterID_parameter.html"><code class="docutils literal notranslate"><span class="pre">cachegroup/{{parameter</span> <span class="pre">ID}}/parameter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroupparameters.html"><code class="docutils literal notranslate"><span class="pre">cachegroupparameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroupparameters_id_parameterID.html"><code class="docutils literal notranslate"><span class="pre">cachegroupparameters/{{ID}}/{{parameterID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups.html"><code class="docutils literal notranslate"><span class="pre">cachegroups</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_id.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_id_deliveryservices.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/{{ID}}/deliveryservices</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_id_parameters.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/{{ID}}/parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_id_queue_update.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/{{ID}}/queue_update</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_id_unassigned_parameters.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/{{id}}/unassigned_parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_parameterID_parameter_available.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/{{parameter</span> <span class="pre">ID}}/parameter/available</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroups_trimmed.html"><code class="docutils literal notranslate"><span class="pre">cachegroups/trimmed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="caches_stats.html"><code class="docutils literal notranslate"><span class="pre">caches/stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="capabilities.html"><code class="docutils literal notranslate"><span class="pre">capabilities</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="capabilities_name.html"><code class="docutils literal notranslate"><span class="pre">capabilities/{{name}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns.html"><code class="docutils literal notranslate"><span class="pre">cdns</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_capacity.html"><code class="docutils literal notranslate"><span class="pre">cdns/capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_cdn_configfiles_ats_filename.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{cdn}}/configfiles/ats/{{filename}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_configs.html"><code class="docutils literal notranslate"><span class="pre">cdns/configs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_dnsseckeys_refresh.html"><code class="docutils literal notranslate"><span class="pre">cdns/dnsseckeys/refresh</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_domains.html"><code class="docutils literal notranslate"><span class="pre">cdns/domains</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_health.html"><code class="docutils literal notranslate"><span class="pre">cdns/health</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_id.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_id_queue_update.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{ID}}/queue_update</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_id_snapshot.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{ID}}/snapshot</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_metric_types_metric_start_date_start_end_date_end.html"><code class="docutils literal notranslate"><span class="pre">cdns/metric_types/{{metric}}/start_date/{{start}}/end_date/{{end}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_configs_monitoring.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/configs/monitoring</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_configs_routing.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/configs/routing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_dnsseckeys_ksk_generate.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/dnsseckeys/ksk/generate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_federations.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/federations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_federations_id.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/federations/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_health.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/health</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_name.html"><code class="docutils literal notranslate"><span class="pre">cdns/name/{{name}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_name_dnsseckeys.html"><code class="docutils literal notranslate"><span class="pre">cdns/name/{{name}}/dnsseckeys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_name_dnsseckeys_delete.html"><code class="docutils literal notranslate"><span class="pre">cdns/name/{{name}}/dnsseckeys/delete</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_name_sslkeys.html"><code class="docutils literal notranslate"><span class="pre">cdns/name/{{name}}/sslkeys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_snapshot.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/snapshot</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_name_snapshot_new.html"><code class="docutils literal notranslate"><span class="pre">cdns/{{name}}/snapshot/new</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_routing.html"><code class="docutils literal notranslate"><span class="pre">cdns/routing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cdns_usage_overview.html"><code class="docutils literal notranslate"><span class="pre">cdns/usage/overview</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="consistenthash.html"><code class="docutils literal notranslate"><span class="pre">consistenthash</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="coordinates.html"><code class="docutils literal notranslate"><span class="pre">coordinates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservice_server_dsid_serverid.html"><code class="docutils literal notranslate"><span class="pre">deliveryservice_server/{{DSID}}/{{serverID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservice_stats.html"><code class="docutils literal notranslate"><span class="pre">deliveryservice_stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservice_user.html"><code class="docutils literal notranslate"><span class="pre">deliveryservice_user</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservice_user_dsid_userid.html"><code class="docutils literal notranslate"><span class="pre">deliveryservice_user/{{dsID}}/{{userID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_dnsseckeys_generate.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/dnsseckeys/generate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_hostname_name_sslkeys.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/hostname/{{name}}/sslkeys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_capacity.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_health.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/health</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_regexes.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/regexes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_regexes_rid.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/regexes/{{rID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_routing.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/routing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_safe.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/safe</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_server_types_type_metric_types_start_date_start_end_date_end.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{id}}/server_types/{{type}}/metric_types/start_date/{{start}}/end_date/{{end}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_servers.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/servers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_servers_eligible.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/servers/eligible</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_state.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_id_unassigned_servers.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{ID}}/unassigned_servers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_regexes.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices_regexes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_request.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/request</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_sslkeys_add.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/sslkeys/add</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_sslkeys_generate.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/sslkeys/generate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_servers.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{xml_id}}/servers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_urisignkeys.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/{{xml_id}}/urisignkeys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_xmlid_sslkeys.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/xmlId/{{XMLID}}/sslkeys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_xmlid_sslkeys_delete.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/xmlId/{{xmlid}}/sslkeys/delete</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_xmlid_urlkeys.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/xmlId/{{xmlid}}/urlkeys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_xmlid_urlkeys_copyfromxmlid_copyfromxmlid.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/xmlId/{{xml_id}}/urlkeys/copyFromXmlId/{{copyFrom_xml_id}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryservices_xmlid_xmlid_urlkeys_generate.html"><code class="docutils literal notranslate"><span class="pre">deliveryservices/xmlId/{{xml_id}}/urlkeys/generate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="deliveryserviceserver.html"><code class="docutils literal notranslate"><span class="pre">deliveryserviceserver</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="divisions.html"><code class="docutils literal notranslate"><span class="pre">divisions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="divisions_id.html"><code class="docutils literal notranslate"><span class="pre">divisions/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="divisions_name_regions.html"><code class="docutils literal notranslate"><span class="pre">divisions/{{name}}/regions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federation_resolvers.html"><code class="docutils literal notranslate"><span class="pre">federation_resolvers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federation_resolvers_id.html"><code class="docutils literal notranslate"><span class="pre">federation_resolvers/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federations.html"><code class="docutils literal notranslate"><span class="pre">federations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federations_id_deliveryservices.html"><code class="docutils literal notranslate"><span class="pre">federations/{{ID}}/deliveryservices</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federations_id_deliveryservices_id.html"><code class="docutils literal notranslate"><span class="pre">federations/{{ID}}/deliveryservices/{{dsID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federations_id_federation_resolvers.html"><code class="docutils literal notranslate"><span class="pre">federations/{{ID}}/federation_resolvers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federations_id_users.html"><code class="docutils literal notranslate"><span class="pre">federations/{{ID}}/users</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="federations_id_users_id.html"><code class="docutils literal notranslate"><span class="pre">federations/{{ID}}/users/{{userID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="hwinfo.html"><code class="docutils literal notranslate"><span class="pre">hwinfo</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="isos.html"><code class="docutils literal notranslate"><span class="pre">isos</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html"><code class="docutils literal notranslate"><span class="pre">jobs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="jobs_id.html"><code class="docutils literal notranslate"><span class="pre">jobs/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="logs.html"><code class="docutils literal notranslate"><span class="pre">logs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="logs_days_days.html"><code class="docutils literal notranslate"><span class="pre">logs/{{days}}/days</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="logs_newcount.html"><code class="docutils literal notranslate"><span class="pre">logs/newcount</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="origins.html"><code class="docutils literal notranslate"><span class="pre">origins</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="osversions.html"><code class="docutils literal notranslate"><span class="pre">osversions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameterprofile.html"><code class="docutils literal notranslate"><span class="pre">parameterprofile</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters.html"><code class="docutils literal notranslate"><span class="pre">parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters_id.html"><code class="docutils literal notranslate"><span class="pre">parameters/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters_id_profiles.html"><code class="docutils literal notranslate"><span class="pre">parameters/{{ID}}/profiles</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters_id_unassigned_profiles.html"><code class="docutils literal notranslate"><span class="pre">parameters/{{ID}}/unassigned_profiles</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters_profile_name.html"><code class="docutils literal notranslate"><span class="pre">parameters/profile/{{name}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters_validate.html"><code class="docutils literal notranslate"><span class="pre">parameters/validate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="phys_locations.html"><code class="docutils literal notranslate"><span class="pre">phys_locations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="phys_locations_id.html"><code class="docutils literal notranslate"><span class="pre">phys_locations/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="phys_locations_trimmed.html"><code class="docutils literal notranslate"><span class="pre">phys_locations/trimmed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profileparameter.html"><code class="docutils literal notranslate"><span class="pre">profileparameter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profileparameters.html"><code class="docutils literal notranslate"><span class="pre">profileparameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profileparameters_profileID_parameterID.html"><code class="docutils literal notranslate"><span class="pre">profileparameters/{{profileID}}/{{parameterID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles.html"><code class="docutils literal notranslate"><span class="pre">profiles</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_id.html"><code class="docutils literal notranslate"><span class="pre">profiles/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_id_parameters.html"><code class="docutils literal notranslate"><span class="pre">profiles/{{ID}}/parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_id_unassigned_parameters.html"><code class="docutils literal notranslate"><span class="pre">profiles/{{ID}}/unassigned_parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_name_name_copy_copy.html"><code class="docutils literal notranslate"><span class="pre">profiles/name/{{name}}/copy/{{copy}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_name_name_parameters.html"><code class="docutils literal notranslate"><span class="pre">profiles/name/{{name}}/parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_profile_configfiles_ats_filename.html"><code class="docutils literal notranslate"><span class="pre">profiles/{{profile}}/configfiles/ats/{{filename}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles_trimmed.html"><code class="docutils literal notranslate"><span class="pre">profiles/trimmed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="regions.html"><code class="docutils literal notranslate"><span class="pre">regions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="regions_id.html"><code class="docutils literal notranslate"><span class="pre">regions/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="regions_name_phys_locations.html"><code class="docutils literal notranslate"><span class="pre">regions/:region_name/phys_locations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="roles.html"><code class="docutils literal notranslate"><span class="pre">roles</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servercheck.html"><code class="docutils literal notranslate"><span class="pre">servercheck</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers.html"><code class="docutils literal notranslate"><span class="pre">servers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_hostname_name_details.html"><code class="docutils literal notranslate"><span class="pre">servers/hostname/{{name}}/details</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_hostname_update_status.html"><code class="docutils literal notranslate"><span class="pre">servers/{{hostname}}/update_status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_id.html"><code class="docutils literal notranslate"><span class="pre">servers/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_id_deliveryservices.html"><code class="docutils literal notranslate"><span class="pre">servers/{{ID}}/deliveryservices</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_id_queue_update.html"><code class="docutils literal notranslate"><span class="pre">servers/{{ID}}/queue_update</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_id_status.html"><code class="docutils literal notranslate"><span class="pre">servers/{{ID}}/status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_server_configfiles_ats.html"><code class="docutils literal notranslate"><span class="pre">servers/{{server}}/configfiles/ats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_server_configfiles_ats_filename.html"><code class="docutils literal notranslate"><span class="pre">servers/{{server}}/configfiles/ats/{{filename}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_status.html"><code class="docutils literal notranslate"><span class="pre">servers/status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="servers_totals.html"><code class="docutils literal notranslate"><span class="pre">servers/totals</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshot_name.html"><code class="docutils literal notranslate"><span class="pre">snapshot/{{name}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="staticdnsentries.html"><code class="docutils literal notranslate"><span class="pre">staticdnsentries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="statuses.html"><code class="docutils literal notranslate"><span class="pre">statuses</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="statuses_id.html"><code class="docutils literal notranslate"><span class="pre">statuses/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="steering_id_targets.html"><code class="docutils literal notranslate"><span class="pre">steering/{{ID}}/targets</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="steering_id_targets_targetID.html"><code class="docutils literal notranslate"><span class="pre">steering/{{ID}}/targets/{{targetID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="system_info.html"><code class="docutils literal notranslate"><span class="pre">system/info</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="tenants.html"><code class="docutils literal notranslate"><span class="pre">tenants</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="tenants_id.html"><code class="docutils literal notranslate"><span class="pre">tenants/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="to_extensions.html"><code class="docutils literal notranslate"><span class="pre">to_extensions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="to_extensions_id_delete.html"><code class="docutils literal notranslate"><span class="pre">to_extensions/{{ID}}/delete</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="traffic_monitor_stats.html"><code class="docutils literal notranslate"><span class="pre">traffic_monitor/stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html"><code class="docutils literal notranslate"><span class="pre">types</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="types_id.html"><code class="docutils literal notranslate"><span class="pre">types/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="types_trimmed.html"><code class="docutils literal notranslate"><span class="pre">types/trimmed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_current.html"><code class="docutils literal notranslate"><span class="pre">user/current</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_current_jobs.html"><code class="docutils literal notranslate"><span class="pre">user/current/jobs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_current_update.html"><code class="docutils literal notranslate"><span class="pre">user/current/update</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_id_deliveryservices_available.html"><code class="docutils literal notranslate"><span class="pre">user/{{ID}}/deliveryservices/available</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_login.html"><code class="docutils literal notranslate"><span class="pre">user/login</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_login_token.html"><code class="docutils literal notranslate"><span class="pre">user/login/token</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_logout.html"><code class="docutils literal notranslate"><span class="pre">user/logout</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user_reset_password.html"><code class="docutils literal notranslate"><span class="pre">user/reset_password</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="users.html"><code class="docutils literal notranslate"><span class="pre">users</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="users_id.html"><code class="docutils literal notranslate"><span class="pre">users/{{ID}}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="users_id_deliveryservices.html"><code class="docutils literal notranslate"><span class="pre">users/{{ID}}/deliveryservices</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="users_register.html"><code class="docutils literal notranslate"><span class="pre">users/register</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-read-this-documentation">How to Read this Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#response-structure">Response Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#response-type-meanings">Response Type Meanings</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-api-endpoints">Using API Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-session">Example Session</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-errors">API Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trafficops-native-client-libraries">TrafficOps Native Client Libraries</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Traffic Control</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Traffic Ops API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="traffic-ops-api">
<span id="to-api"></span><h1>Traffic Ops API<a class="headerlink" href="#traffic-ops-api" title="Permalink to this headline">¶</a></h1>
<p>The Traffic Ops API provides programmatic access to read and write Traffic Control data which allows for the monitoring of CDN performance and configuration of Traffic Control settings and parameters.</p>
<div class="section" id="api-routes">
<h2>API Routes<a class="headerlink" href="#api-routes" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="how-to-read-this-documentation">
<h2>How to Read this Documentation<a class="headerlink" href="#how-to-read-this-documentation" title="Permalink to this headline">¶</a></h2>
<p>Each endpoint is on its own page, titled with the request path. The request paths shown on each endpoint’s page are - unless otherwise noted - only usable by being appended to the request path prefix <code class="docutils literal notranslate"><span class="pre">/api/&lt;version&gt;/</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> is the API version being requested. The API versions officially supported as of the time of this writing are 1.1, 1.2, 1.3, 1.4. All endpoints are documented as though they were being used in version 1.4. If an endpoint or request method of an endpoint is only available after a specific version, that will be noted next to the method or endpoint name. If changes were made to the structure of an endpoint’s input or output, the version number and nature of the change will be noted.</p>
<p>Every endpoint is documented with a section for each method, containing the subsections “Request Structure” and “Response Structure” which identify all properties and structure of the Request to and Response from the endpoint. Before these subsections, three key pieces of information will be provided:</p>
<dl class="simple">
<dt>Auth. Required</dt><dd><p>This will either be ‘Yes’ to indicate that a user must be authenticated (or “logged-in”) via e.g. <a class="reference internal" href="user_login.html#to-api-user-login"><span class="std std-ref">user/login</span></a> to use this method of the endpoint, or ‘No’ to indicate that this is not required.</p>
</dd>
<dt>Roles Required</dt><dd><p>Any permissions roles that are allowed to use this method of the endpoint will be listed here. Users with roles not listed here will be unable to properly use these endpoints</p>
</dd>
<dt>Response Type</dt><dd><p>Unless otherwise noted, all responses are JSON objects. See <a class="reference internal" href="#response-structure">Response Structure</a> for more information.</p>
</dd>
</dl>
<p>The methods of endpoints that require/accept data payloads - unless otherwise noted - always interpret the content of the payload as a JSON object, regardless of the request’s <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header. Because of this, all payloads are - unless otherwise noted - JSON objects. The Request Structure and Response Structure subsections will contain explanations of the fields before any examples like e.g.</p>
<dl class="field-list simple">
<dt class="field-odd">foo</dt>
<dd class="field-odd"><p>A constant field that always contains “foo”</p>
</dd>
<dt class="field-even">bar</dt>
<dd class="field-even"><p>An array of objects that each represent a “bar” object</p>
<dl class="field-list simple">
<dt class="field-odd">name</dt>
<dd class="field-odd"><p>The bar’s name</p>
</dd>
<dt class="field-even">value</dt>
<dd class="field-even"><p>The bar’s value (an integer)</p>
</dd>
</dl>
</dd>
</dl>
<p>All fields are mandatory in a request payload, or always present in a response payload unless otherwise noted in the field description.</p>
<p>In most cases, JSON objects have been “pretty-printed” by inserting line breaks and indentation. This means that the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> HTTP header does not, in general, accurately portray the length of the content displayed in Request Examples and Response Examples. Also, the Traffic Ops endpoints will ignore any content negotiation, meaning that the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header of a request is totally meaningless. A utility may choose to pass the data as e.g. <em class="mimetype">application/x-www-form-urlencoded</em> (cURL’s default <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code>) when constructing a Request Example, but the example itself will most often show <em class="mimetype">application/json</em> in order for syntax highlighting to properly work.</p>
<div class="section" id="response-structure">
<span id="to-api-response-structure"></span><h3>Response Structure<a class="headerlink" href="#response-structure" title="Permalink to this headline">¶</a></h3>
<p>Unless otherwise noted, all response payloads come as JSON objects.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-number">#511 </span><span class="caption-text">Response Structure</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;JSON object with main response&gt;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>To make the documentation easier to read, only the <code class="docutils literal notranslate"><span class="pre">&lt;JSON</span> <span class="pre">object</span> <span class="pre">with</span> <span class="pre">main</span> <span class="pre">response&gt;</span></code> is documented, even though the response endpoints may return other top-level objects (most commonly the <code class="docutils literal notranslate"><span class="pre">&quot;alerts&quot;</span></code> object). The field definitions listed in the Response Structure subsection of an endpoint method are the elements of this object. Sometimes the <code class="docutils literal notranslate"><span class="pre">response</span></code> object is a string, sometimes it’s an object that maps keys to values, sometimes it’s an array that contains many arbitrary objects, and sometimes it isn’t present at all. For ease of reading, the field lists delegate the distinction to be made by the <code class="docutils literal notranslate"><span class="pre">Response</span> <span class="pre">Type</span></code> field directly under the request method heading.</p>
<div class="section" id="response-type-meanings">
<h4>Response Type Meanings<a class="headerlink" href="#response-type-meanings" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt>Array</dt><dd><p>The fields in the field list refer to the keys of the objects in the <code class="docutils literal notranslate"><span class="pre">response</span></code> array.</p>
</dd>
<dt>Object</dt><dd><p>The fields in the field list refer to the keys of the <code class="docutils literal notranslate"><span class="pre">response</span></code> object.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undefined</span></code></dt><dd><p>No <code class="docutils literal notranslate"><span class="pre">response</span></code> object is present in the response payload. Unless the format is otherwise noted, this means that there should be no field list in the “Response Structure” subsection.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="using-api-endpoints">
<h2>Using API Endpoints<a class="headerlink" href="#using-api-endpoints" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Authenticate with valid Traffic Control user account credentials (the same used by Traffic Portal).</p></li>
<li><p>Upon successful user authentication, note the Mojolicious cookie value in the response headers<a class="footnote-reference brackets" href="#id2" id="id1">1</a>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many tools have methods for doing this without manual intervention - a web browser for instance will automatically remember and properly handle cookies. Another common tool, cURL, has command line switches that will also accomplish this. Most high-level programming language libraries will implement a cookie-handling method as well.</p>
</div>
</div></blockquote>
</li>
<li><p>Pass the Mojolicious cookie value, along with any subsequent calls to an authenticated API endpoint.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many endpoints support a <code class="docutils literal notranslate"><span class="pre">.json</span></code> suffix. This should be avoided at all costs, because there’s no real consistency regarding when it may be used, and the output of API endpoints, in general, are not capable of representing POSIX-compliant files (as a ‘file extension’ might imply).</p>
</div>
<div class="section" id="example-session">
<h3>Example Session<a class="headerlink" href="#example-session" title="Permalink to this headline">¶</a></h3>
<p>A user makes a request to the <code class="docutils literal notranslate"><span class="pre">/api/1.1/asns</span></code> endpoint.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/1.1/asns</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">trafficops.infra.ciab.test</span>
<span class="na">User-Agent</span><span class="o">:</span> <span class="l">example</span>
</pre></div>
</div>
<p>The response JSON indicates an authentication error.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">UNAUTHORIZED</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">68</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 02 Oct 2018 13:12:30 GMT</span>

<span class="p">{</span> <span class="nt">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="s2">&quot;error&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;Unauthorized, please log in.&quot;</span>
    <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>To authenticate, the user sends a POST request containing their login information to the <code class="docutils literal notranslate"><span class="pre">/api/1.3/user/login</span></code> endpoint.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/1.1/user/login</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="o">:</span> <span class="l">example</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">trafficops.infra.ciab.test</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">32</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/x-www-form-urlencoded</span>
</pre></div>
</div>
<p>Traffic Ops responds with a Mojolicious cookie to be used for future requests, and a message indicating the success or failure (in this case success) of the login operation.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">keep-alive</span>
<span class="na">Access-Control-Allow-Methods</span><span class="o">:</span> <span class="l">POST,GET,OPTIONS,PUT,DELETE</span>
<span class="na">Access-Control-Allow-Headers</span><span class="o">:</span> <span class="l">Origin, X-Requested-With, Content-Type, Accept</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">mojolicious=...; Path=/; Expires=Tue, 02 Oct 2018 19:03:18 GMT; HttpOnly</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 02 Oct 2018 12:53:32 GMT</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="o">:</span> <span class="l">true</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">81</span>
<span class="na">X-Server-Name</span><span class="o">:</span> <span class="l">traffic_ops_golang/</span>

<span class="p">{</span> <span class="nt">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Successfully logged in.&quot;</span>
    <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Using this cookie, the user can now access their original target - the <code class="docutils literal notranslate"><span class="pre">/api/1.1/asns</span></code> endpoint…</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/1.1/asns</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Cookie</span><span class="o">:</span> <span class="l">mojolicious=...;</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">trafficops.infra.ciab.test</span>
<span class="na">User-Agent</span><span class="o">:</span> <span class="l">Example</span>
</pre></div>
</div>
<p>… and the Traffic Ops server will now happily service this request.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="o">:</span> <span class="l">true</span>
<span class="na">Access-Control-Allow-Headers</span><span class="o">:</span> <span class="l">Origin, X-Requested-With, Content Type, Accept, Set-Cookie, Cookie</span>
<span class="na">Access-Control-Allow-Methods</span><span class="o">:</span> <span class="l">POST,GET,OPTIONS,PUT,DELETE</span>
<span class="na">Access-Control-Allow-Origin</span><span class="o">:</span> <span class="l">*</span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">keep-alive</span>
<span class="na">Content-Encoding</span><span class="o">:</span> <span class="l">gzip</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">48</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 02 Oct 2018 12:55:57 GMT</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">mojolicious=...; Path=/; HttpOnly</span>
<span class="na">Whole-Content-SHA512</span><span class="o">:</span> <span class="l">u+Q5X7z/DMTc/VzRGaFlJBA8btA8EC…dnA85HCYTm8vVwsQCvle+uVc1nA==</span>
<span class="na">X-Server-Name</span><span class="o">:</span> <span class="l">traffic_ops_golang/</span>

<span class="p">{</span> <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;asns&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;lastUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;2012-09-17 21:41:22&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
            <span class="nt">&quot;asn&quot;</span><span class="p">:</span> <span class="mi">7015</span><span class="p">,</span>
            <span class="nt">&quot;cachegroup&quot;</span><span class="p">:</span> <span class="s2">&quot;us-ma-woburn&quot;</span><span class="p">,</span>
            <span class="nt">&quot;cachegroupId&quot;</span><span class="p">:</span> <span class="mi">2</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;lastUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;2012-09-17 21:41:22&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
            <span class="nt">&quot;asn&quot;</span><span class="p">:</span> <span class="mi">7016</span><span class="p">,</span>
            <span class="nt">&quot;cachegroup&quot;</span><span class="p">:</span> <span class="s2">&quot;us-pa-pittsburgh&quot;</span><span class="p">,</span>
            <span class="nt">&quot;cachegroupID&quot;</span><span class="p">:</span> <span class="mi">3</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="api-errors">
<h2>API Errors<a class="headerlink" href="#api-errors" title="Permalink to this headline">¶</a></h2>
<p>If an API endpoint has something to say besides the actual response (usually an error message), it will add a top-level object to the response JSON with the key <code class="docutils literal notranslate"><span class="pre">&quot;alerts&quot;</span></code>. This will be an array of objects that represent messages from the server, each with the following string fields:</p>
<dl class="field-list simple">
<dt class="field-odd">level</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">&quot;success&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;info&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;warning&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> as appropriate</p>
</dd>
<dt class="field-even">text</dt>
<dd class="field-even"><p>The alert’s actual message</p>
</dd>
</dl>
<p>The most common errors returned by Traffic Ops are:</p>
<dl>
<dt>401 Unauthorized</dt><dd><p>When a “mojolicious” cookie is supplied that is invalid or expired, or the login credentials are incorrect the server responds with a <code class="docutils literal notranslate"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code> response code.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-number">#512 </span><span class="caption-text">Example of a Response to a Login Request with Bad Credentials</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">401</span> <span class="ne">Unauthorized</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="o">:</span> <span class="l">true</span>
<span class="na">Access-Control-Allow-Headers</span><span class="o">:</span> <span class="l">Origin, X-Requested-With, Content-Type, Accept, Set-Cookie, Cookie</span>
<span class="na">Access-Control-Allow-Methods</span><span class="o">:</span> <span class="l">POST,GET,OPTIONS,PUT,DELETE</span>
<span class="na">Access-Control-Allow-Origin</span><span class="o">:</span> <span class="l">*</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Whole-Content-Sha512</span><span class="o">:</span> <span class="l">xRKu2Q7Yj07UA6A6SyxMNmcBpuBcW2/bzuKO5eTZ2y4V27rXfP/5bSkNPesomJbiOO+xSmiybDsHlcL3P+pzpg==</span>
<span class="na">X-Server-Name</span><span class="o">:</span> <span class="l">traffic_ops_golang/</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 02 Oct 2018 13:28:30 GMT</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">69</span>

<span class="p">{</span> <span class="nt">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid username or password.&quot;</span><span class="p">,</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span>
    <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
</div>
</dd>
<dt>404 Not Found</dt><dd><p>When the requested resource (path) doesn’t exist, Traffic Ops returns a <code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code> response code.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-number">#513 </span><span class="caption-text">Example Response to <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/not/an/api/path</span> <span class="pre">HTTP/1.1</span></code> with Proper Cookies</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="o">:</span> <span class="l">true</span>
<span class="na">Access-Control-Allow-Headers</span><span class="o">:</span> <span class="l">Origin, X-Requested-With, Content-Type, Accept</span>
<span class="na">Access-Control-Allow-Methods</span><span class="o">:</span> <span class="l">POST,GET,OPTIONS,PUT,DELETE</span>
<span class="na">Access-Control-Allow-Origin</span><span class="o">:</span> <span class="l">*</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/html;charset=UTF-8</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 02 Oct 2018 13:58:56 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Mojolicious (Perl)</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">mojolicious=...; expires=Tue, 02 Oct 2018 17:58:56 GMT; path=/; HttpOnly</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept-Encoding</span>
<span class="na">Whole-Content-Sha512</span><span class="o">:</span> <span class="l">Ff5hO8ZUNUMbwCW0mBuUlsvrSmm/Giijpq7O3uLivLZ6VOu6eGom4Jag6UqlBbbDBnP6AG7l1Szdt74TT6NidA==</span>
<span class="na">Transfer-Encoding</span><span class="o">:</span> <span class="l">chunked</span>

The content of this response will be the Legacy UI login page (which is omitted because it&#39;s huge)
</pre></div>
</div>
</div>
</dd>
<dt>500 Internal Server Error</dt><dd><p>When a server-side error occurs, the Perl API will return a <code class="docutils literal notranslate"><span class="pre">500</span> <span class="pre">INTERNAL</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code> response (the below example request will result in a <code class="docutils literal notranslate"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code> response if using the v1.3 API instead - as this will use the Go server’s API)</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-number">#514 </span><span class="caption-text">Example Response to <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/1.1/servers/hostname/jj/details.json</span></code> (‘jj’ doesn’t exist)</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="o">:</span> <span class="l">true</span>
<span class="na">Access-Control-Allow-Headers</span><span class="o">:</span> <span class="l">Origin, X-Requested-With, Content-Type, Accept</span>
<span class="na">Access-Control-Allow-Methods</span><span class="o">:</span> <span class="l">POST,GET,OPTIONS,PUT,DELETE</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">93</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 02 Oct 2018 17:29:42 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Mojolicious (Perl)</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">mojolicious=..; expires=Sun, 19 Apr 2015 00:45:06 GMT; path=/; HttpOnly</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept-Encoding</span>
<span class="na">Whole-Content-Sha512</span><span class="o">:</span> <span class="l">gFa4NYFmofCbV7YqgwyFRzKk90+KNgoZu6p2Nx98J4Gy7/2j55tYknvk53WXuMdMKKrgYMop4uiYOla1k1ozQQ==</span>

<span class="p">{</span> <span class="nt">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;An error occurred. Please contact your administrator.&quot;</span>
    <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
</div>
</dd>
</dl>
<p>The rest of the API documentation will only document the <code class="docutils literal notranslate"><span class="pre">200</span> <span class="pre">OK</span></code> case, where no errors have occurred.</p>
</div>
<div class="section" id="trafficops-native-client-libraries">
<h2>TrafficOps Native Client Libraries<a class="headerlink" href="#trafficops-native-client-libraries" title="Permalink to this headline">¶</a></h2>
<p>TrafficOps client libraries are available in Java, Go and Python. You can read (very little) more about them in <a class="reference external" href="https://github.com/apache/trafficcontrol/tree/master/traffic_control/clients">the client README</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>A cookie obtained by logging in through Traffic Portal can be used to access API endpoints under the Traffic Portal domain name - since it will proxy such requests back to Traffic Ops. This is not recommended in actual deployments, however, because it will involve an extra network connection which could be avoided by simply using the Traffic Ops domain itself.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api_capabilities.html" class="btn btn-neutral float-right" title="api_capabilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../development/documentation_guidelines.html" class="btn btn-neutral" title="Documentation Guidelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Apache Traffic Control

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>